<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-5M8M4FNJ');</script>
  <!-- End Google Tag Manager -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DermaVision - AI Skin Disease Detection</title>
  <link rel="icon" type="image/x-icon" href="favicon.ico" />
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/cropperjs@1.5.13/dist/cropper.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/cropperjs@1.5.13/dist/cropper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    * {
      font-family: 'Inter', sans-serif;
    }

    body {
      /* Restored original gradient colors from reference */
      background: linear-gradient(135deg, #667eea 0%, #764ba2 25%, #f093fb 50%, #f5576c 75%, #4facfe 100%);
      background-size: 400% 400%;
      animation: gradientShift 15s ease infinite;
      min-height: 100vh;
    }

    @keyframes gradientShift {
      0% { background-position: 0% 50%; }
      25% { background-position: 100% 0%; }
      50% { background-position: 100% 100%; }
      75% { background-position: 0% 100%; }
      100% { background-position: 0% 50%; }
    }

    .glass-effect {
      /* Updated to match original white glass effect */
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      box-shadow: 0 12px 40px rgba(0, 0, 0, 0.1);
      transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .glass-effect:hover {
      background: rgba(255, 255, 255, 0.98);
      transform: translateY(-5px);
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
    }

    .glass-card {
      /* Updated to match original white glass cards */
      background: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.3);
      transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
      transform: translateY(0px) scale(1);
    }

    .glass-card:hover {
      background: rgba(255, 255, 255, 0.95);
      transform: translateY(-12px) scale(1.02);
      box-shadow: 0 25px 50px rgba(0, 0, 0, 0.2);
      border: 1px solid rgba(255, 255, 255, 0.4);
    }

    .neon-glow {
      /* Updated to match original gradient text colors */
      background: linear-gradient(135deg, #667eea, #764ba2, #f093fb, #f5576c, #4facfe);
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: neonPulse 3s ease-in-out infinite alternate;
    }

    @keyframes neonPulse {
      0% { 
        filter: brightness(1) saturate(1);
      }
      100% { 
        filter: brightness(1.2) saturate(1.3);
      }
    }

    .floating-orb {
      position: absolute;
      border-radius: 50%;
      filter: blur(60px);
      opacity: 0.3;
      animation: floatEnhanced 8s ease-in-out infinite;
    }

    .floating-orb:nth-child(1) {
      width: 320px;
      height: 320px;
      /* Updated to match original blue orb */
      background: #4facfe;
      top: -160px;
      left: -160px;
      animation-delay: 0s;
    }

    .floating-orb:nth-child(2) {
      width: 320px;
      height: 320px;
      /* Updated to match original pink orb */
      background: #f093fb;
      bottom: -160px;
      right: -160px;
      animation-delay: 3s;
    }

    .floating-orb:nth-child(3) {
      width: 224px;
      height: 224px;
      /* Updated to match original purple orb */
      background: #764ba2;
      top: 33.333333%;
      left: 50%;
      transform: translate(-50%, -50%);
      animation-delay: 6s;
      opacity: 0.2;
    }

    @keyframes floatEnhanced {
      0%, 100% { 
        transform: translateY(0px) translateX(0px) rotate(0deg) scale(1);
      }
      25% { 
        transform: translateY(-30px) translateX(20px) rotate(90deg) scale(1.1);
      }
      50% { 
        transform: translateY(-10px) translateX(-15px) rotate(180deg) scale(0.9);
      }
      75% { 
        transform: translateY(20px) translateX(25px) rotate(270deg) scale(1.05);
      }
    }

    .pulse-glow {
      animation: pulseGlowEnhanced 4s ease-in-out infinite;
    }

    @keyframes pulseGlowEnhanced {
      0%, 100% { 
        box-shadow: 0 0 30px rgba(102, 126, 234, 0.3), 0 0 60px rgba(240, 147, 251, 0.2);
        transform: scale(1);
      }
      50% { 
        box-shadow: 0 0 50px rgba(102, 126, 234, 0.5), 0 0 80px rgba(240, 147, 251, 0.4), 0 0 100px rgba(118, 75, 162, 0.3);
        transform: scale(1.02);
      }
    }

    .slide-in {
      animation: slideInEnhanced 1s ease-out forwards;
      opacity: 0;
      transform: translateY(50px) scale(0.95);
    }

    @keyframes slideInEnhanced {
      to {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }

    .fade-in {
      animation: fadeInEnhanced 1.2s ease-out forwards;
      opacity: 0;
      transform: translateY(20px);
    }

    @keyframes fadeInEnhanced {
      to { 
        opacity: 1; 
        transform: translateY(0);
      }
    }

    .crop-container {
      max-height: 300px;
      overflow: hidden;
      border-radius: 12px;
    }

    @media (max-width: 640px) {
      .crop-container {
        max-height: 220px;
      }
    }

    .severity-mild { 
      background: linear-gradient(135deg, #10b981, #06b6d4);
      color: white;
      animation: severityGlow 3s ease-in-out infinite alternate;
    }

    .severity-moderate { 
      background: linear-gradient(135deg, #f59e0b, #f97316);
      color: white;
      animation: severityGlow 3s ease-in-out infinite alternate;
    }

    .severity-severe { 
      background: linear-gradient(135deg, #ef4444, #dc2626);
      color: white;
      animation: severityGlow 3s ease-in-out infinite alternate;
    }

    @keyframes severityGlow {
      0% { box-shadow: 0 0 10px rgba(0, 0, 0, 0.3); }
      100% { box-shadow: 0 0 20px rgba(255, 255, 255, 0.2); }
    }

    .condition-tag {
      /* Updated to match original blue gradient styling */
      background: linear-gradient(135deg, rgba(102, 126, 234, 0.2), rgba(118, 75, 162, 0.2));
      border: 1px solid rgba(102, 126, 234, 0.4);
      color: #667eea;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      transform: scale(1) rotate(0deg);
    }

    .condition-tag:hover {
      background: linear-gradient(135deg, rgba(102, 126, 234, 0.4), rgba(118, 75, 162, 0.4));
      transform: scale(1.08) rotate(2deg);
      box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3);
      color: #4338ca;
    }

    .loading-spinner {
      width: 60px;
      height: 60px;
      /* Updated spinner colors to match original theme */
      border: 4px solid rgba(102, 126, 234, 0.3);
      border-top: 4px solid #f093fb;
      border-right: 4px solid #667eea;
      border-radius: 50%;
      animation: spinEnhanced 1.5s cubic-bezier(0.68, -0.55, 0.265, 1.55) infinite;
    }

    @keyframes spinEnhanced {
      0% { transform: rotate(0deg) scale(1); }
      50% { transform: rotate(180deg) scale(1.1); }
      100% { transform: rotate(360deg) scale(1); }
    }

    .btn-primary {
      /* Updated to match original gradient button colors */
      background: linear-gradient(135deg, #667eea, #764ba2, #f093fb);
      background-size: 200% 200%;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
      animation: buttonGradient 3s ease infinite;
    }

    @keyframes buttonGradient {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }

    .btn-primary:hover {
      background: linear-gradient(135deg, #5a67d8, #6b46c1, #ec4899);
      transform: translateY(-3px) scale(1.02);
      box-shadow: 0 15px 35px rgba(102, 126, 234, 0.4), 0 5px 15px rgba(240, 147, 251, 0.3);
    }

    .btn-primary::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
      transition: left 0.6s;
    }

    .btn-primary:hover::before {
      left: 100%;
    }

    .floating-card {
      animation: floatingCard 6s ease-in-out infinite;
    }

    @keyframes floatingCard {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
    }

    .floating-card:nth-child(1) { animation-delay: 0s; }
    .floating-card:nth-child(2) { animation-delay: 1.5s; }
    .floating-card:nth-child(3) { animation-delay: 3s; }
    .floating-card:nth-child(4) { animation-delay: 4.5s; }
  </style>
</head>

<body class="text-gray-800 overflow-x-hidden">
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5M8M4FNJ"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

  <!-- Floating background orbs -->
  <div class="floating-orb"></div>
  <div class="floating-orb"></div>
  <div class="floating-orb"></div>

  <div class="relative z-10 min-h-screen">
    <div class="container mx-auto px-4 py-8">
      <!-- Header Section -->
      <header class="text-center mb-12 slide-in">
        <h1 class="text-6xl md:text-7xl font-bold mb-6 neon-glow drop-shadow-lg">
          DermaVision
        </h1>
        <p class="text-xl text-gray-700 max-w-2xl mx-auto leading-relaxed">
          Advanced AI-powered skin disease detection system for early identification and health awareness
        </p>
      </header>

      <!-- About Section -->
      <section class="max-w-4xl mx-auto mb-12 slide-in">
        <div class="glass-effect rounded-2xl p-8">
          <div class="flex items-center justify-center mb-6">
            <div class="w-12 h-12 bg-gradient-to-r from-purple-500 to-blue-500 rounded-full flex items-center justify-center mr-4">
              <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path>
              </svg>
            </div>
            <!-- Updated text colors to match original theme -->
            <h2 class="text-3xl font-bold text-blue-700">About DermaVision</h2>
          </div>
          <p class="text-gray-700 text-lg leading-relaxed text-center">
            DermaVision is an innovative skin disease detection platform developed as part of our capstone project by IHS students. 
            Our cutting-edge AI system leverages advanced machine learning algorithms to help identify common skin conditions from uploaded images, 
            making dermatological health more accessible and understandable for everyone.
          </p>
        </div>
      </section>

      <!-- Upload Form -->
      <section class="max-w-md mx-auto mb-12 slide-in">
        <form id="inputForm" class="glass-effect rounded-2xl p-8 pulse-glow">
          <div class="mb-6">
            <!-- Updated label colors to match original theme -->
            <label class="block mb-3 text-xl font-semibold text-blue-700 flex items-center">
              <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path>
              </svg>
              Upload Image
              <span class="ml-2 text-sm text-gray-500 cursor-help" title="Upload clear images with good lighting and focused lesions">ℹ️</span>
            </label>
            <input type="file" id="file" accept="image/*" 
                   class="w-full px-4 py-3 bg-white border border-gray-300 rounded-xl text-gray-700 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300" />
          </div>

          <img id="preview" class="mb-6 rounded-xl shadow-2xl hidden mx-auto max-h-80 border border-gray-200" alt="Image preview" />
          
          <div id="cropControls" class="hidden mb-6 text-center">
            <button id="cropBtn" type="button" 
                    class="bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white px-6 py-3 rounded-xl font-semibold shadow-lg transition-all duration-300 transform hover:scale-105">
              Crop & Use Photo
            </button>
          </div>

          <button type="submit" class="w-full btn-primary text-white py-4 px-6 rounded-xl font-bold text-lg shadow-lg">
            <span class="flex items-center justify-center">
              <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
              </svg>
              Analyze with AI
            </span>
          </button>
        </form>
      </section>

      <!-- Results Section -->
      <section id="resultContainer" class="hidden max-w-2xl mx-auto mb-12">
        <div id="loadingSpinner" class="text-center py-12">
          <div class="loading-spinner mx-auto mb-4"></div>
          <!-- Updated loading text colors -->
          <p class="text-purple-600 text-lg">Analyzing your image with advanced AI...</p>
          <p class="text-gray-600 text-sm mt-2">This may take a few moments</p>
        </div>
        
        <div id="resultsDisplay" class="hidden glass-effect rounded-2xl p-8 text-center">
          <h2 id="output" class="text-4xl font-bold mb-4 neon-glow"></h2>
          <div id="diseaseInfo" class="mb-6"></div>
          <div id="symptomsContainer"></div>
        </div>
      </section>

      <!-- Currently Testing Section -->
      <section class="max-w-4xl mx-auto mb-12 slide-in">
        <div class="glass-effect rounded-2xl p-8">
          <div class="text-center mb-6">
            <!-- Updated section title colors -->
            <h3 class="text-2xl font-bold text-blue-700 mb-2">Currently Testing For</h3>
            <p class="text-gray-700">Our AI model can detect the following skin conditions</p>
          </div>
          <div class="flex flex-wrap gap-4 justify-center">
            <span class="condition-tag px-6 py-3 rounded-full font-semibold">Chickenpox</span>
            <span class="condition-tag px-6 py-3 rounded-full font-semibold">Vitiligo</span>
            <span class="condition-tag px-6 py-3 rounded-full font-semibold">Melanoma</span>
            <span class="condition-tag px-6 py-3 rounded-full font-semibold">Nail Psoriasis</span>
          </div>
        </div>
      </section>

      <!-- Conditions We Detect -->
      <section class="max-w-6xl mx-auto mb-12 slide-in">
        <!-- Updated section title color -->
        <h2 class="text-4xl font-bold text-center mb-12 text-gray-800">Conditions We Detect</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
          <!-- Chickenpox Card -->
          <div class="glass-card rounded-2xl p-6 hover:scale-105 transition-all duration-300 floating-card">
            <div class="severity-moderate text-xs font-bold px-3 py-1 rounded-full mb-4 inline-block">MODERATE</div>
            <!-- Updated card text colors to match original theme -->
            <h3 class="text-2xl font-bold text-gray-800 mb-3">Chickenpox</h3>
            <p class="text-gray-600 mb-4 leading-relaxed">A highly contagious viral infection causing itchy, blister-like rash throughout the body.</p>
            <div class="space-y-2">
              <h4 class="font-semibold text-gray-700">Common Symptoms:</h4>
              <ul class="text-sm text-gray-700 space-y-1">
                <li class="flex items-center"><span class="w-2 h-2 bg-orange-400 rounded-full mr-2"></span>Red spots or blisters</li>
                <li class="flex items-center"><span class="w-2 h-2 bg-orange-400 rounded-full mr-2"></span>Fever</li>
                <li class="flex items-center"><span class="w-2 h-2 bg-orange-400 rounded-full mr-2"></span>Fatigue</li>
                <li class="flex items-center"><span class="w-2 h-2 bg-orange-400 rounded-full mr-2"></span>Loss of appetite</li>
              </ul>
            </div>
          </div>

          <!-- Vitiligo Card -->
          <div class="glass-card rounded-2xl p-6 hover:scale-105 transition-all duration-300 floating-card">
            <div class="severity-mild text-xs font-bold px-3 py-1 rounded-full mb-4 inline-block">MILD</div>
            <h3 class="text-2xl font-bold text-gray-800 mb-3">Vitiligo</h3>
            <p class="text-gray-600 mb-4 leading-relaxed">A condition causing loss of skin color in patches due to melanocyte destruction.</p>
            <div class="space-y-2">
              <h4 class="font-semibold text-gray-700">Common Symptoms:</h4>
              <ul class="text-sm text-gray-700 space-y-1">
                <li class="flex items-center"><span class="w-2 h-2 bg-green-400 rounded-full mr-2"></span>White patches on skin</li>
                <li class="flex items-center"><span class="w-2 h-2 bg-green-400 rounded-full mr-2"></span>Premature graying of hair</li>
                <li class="flex items-center"><span class="w-2 h-2 bg-green-400 rounded-full mr-2"></span>Loss of skin color</li>
              </ul>
            </div>
          </div>

          <!-- Nail Psoriasis Card -->
          <div class="glass-card rounded-2xl p-6 hover:scale-105 transition-all duration-300 floating-card">
            <div class="severity-moderate text-xs font-bold px-3 py-1 rounded-full mb-4 inline-block">MODERATE</div>
            <h3 class="text-2xl font-bold text-gray-800 mb-3">Nail Psoriasis</h3>
            <p class="text-gray-600 mb-4 leading-relaxed">A condition affecting the nails, causing pitting, discoloration, and structural changes.</p>
            <div class="space-y-2">
              <h4 class="font-semibold text-gray-700">Common Symptoms:</h4>
              <ul class="text-sm text-gray-700 space-y-1">
                <li class="flex items-center"><span class="w-2 h-2 bg-orange-400 rounded-full mr-2"></span>Pitting of nails</li>
                <li class="flex items-center"><span class="w-2 h-2 bg-orange-400 rounded-full mr-2"></span>Discoloration</li>
                <li class="flex items-center"><span class="w-2 h-2 bg-orange-400 rounded-full mr-2"></span>Thickening of nails</li>
                <li class="flex items-center"><span class="w-2 h-2 bg-orange-400 rounded-full mr-2"></span>Nail bed separation</li>
              </ul>
            </div>
          </div>

          <!-- Melanoma Card -->
          <div class="glass-card rounded-2xl p-6 hover:scale-105 transition-all duration-300 floating-card">
            <div class="severity-severe text-xs font-bold px-3 py-1 rounded-full mb-4 inline-block">SEVERE</div>
            <h3 class="text-2xl font-bold text-gray-800 mb-3">Melanoma</h3>
            <p class="text-gray-600 mb-4 leading-relaxed">A serious form of skin cancer that develops in melanocytes and requires immediate attention.</p>
            <div class="space-y-2">
              <h4 class="font-semibold text-gray-700">Common Symptoms:</h4>
              <ul class="text-sm text-gray-700 space-y-1">
                <li class="flex items-center"><span class="w-2 h-2 bg-red-400 rounded-full mr-2"></span>New unusual growth</li>
                <li class="flex items-center"><span class="w-2 h-2 bg-red-400 rounded-full mr-2"></span>Changing mole characteristics</li>
                <li class="flex items-center"><span class="w-2 h-2 bg-red-400 rounded-full mr-2"></span>Irregular borders</li>
                <li class="flex items-center"><span class="w-2 h-2 bg-red-400 rounded-full mr-2"></span>Multiple colors</li>
                <li class="flex items-center"><span class="w-2 h-2 bg-red-400 rounded-full mr-2"></span>Itching or bleeding</li>
              </ul>
            </div>
          </div>
        </div>
      </section>

      <!-- Important Information -->
      <section class="max-w-4xl mx-auto mb-12 space-y-6 slide-in">
        <!-- Medical Disclaimer -->
        <div class="medical-disclaimer glass-effect rounded-2xl p-8">
          <div class="flex items-center mb-4">
            <svg class="w-8 h-8 text-yellow-600 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"></path>
            </svg>
            <!-- Updated disclaimer title color -->
            <h3 class="text-2xl font-bold text-yellow-700">Medical Disclaimer</h3>
          </div>
          <p class="text-gray-800 leading-relaxed">
            <strong class="text-gray-900">DermaVision</strong> provides AI-based analysis and is not a substitute for professional medical advice, diagnosis, or treatment. 
            Always consult your dermatologist or physician for proper medical care and diagnosis. This tool is designed for educational and awareness purposes only.
          </p>
        </div>

        <!-- Privacy Policy -->
        <div class="privacy-section glass-effect rounded-2xl p-8">
          <div class="flex items-center mb-4">
            <svg class="w-8 h-8 text-blue-600 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path>
            </svg>
            <!-- Updated privacy title color -->
            <h3 class="text-2xl font-bold text-blue-700">Privacy Policy</h3>
          </div>
          <p class="text-gray-800 leading-relaxed">
            Your privacy is our priority. Uploaded images are processed only for immediate prediction and analysis. 
            We do not store, save, or share your images with any third parties. All processing is done securely and your data remains confidential.
          </p>
        </div>

        <!-- Image Guidelines -->
        <div class="guidelines-section glass-effect rounded-2xl p-8">
          <div class="flex items-center mb-4">
            <svg class="w-8 h-8 text-purple-600 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
            </svg>
            <!-- Updated guidelines title color -->
            <h3 class="text-2xl font-bold text-purple-700">Image Guidelines</h3>
          </div>
          <p class="text-gray-800 leading-relaxed">
            For optimal results, ensure your image is clear, well-focused, and taken in natural lighting. 
            The affected area should be clearly visible and centered in the frame. Avoid blurry, dark, or heavily filtered images.
          </p>
        </div>
      </section>

      <!-- Team Section -->
      <section class="max-w-4xl mx-auto mb-8 slide-in">
        <div class="glass-effect rounded-2xl p-8 text-center">
          <div class="flex items-center justify-center mb-6">
            <svg class="w-8 h-8 text-purple-600 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path>
            </svg>
            <!-- Updated team title color -->
            <h3 class="text-3xl font-bold text-blue-700">Capstone Project Team</h3>
          </div>
          <p class="text-gray-700 text-lg leading-relaxed mb-6">
            <strong class="text-gray-900">DermaVision</strong> is an original capstone project created by our dedicated team of IHS students. 
            All code, design, and content represent our own innovative work and research in the field of medical AI applications.
          </p>
          <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
            <div class="glass-card rounded-xl p-4">
              <!-- Updated team member text colors -->
              <h4 class="font-semibold text-purple-700">Afnan K.A Rafi</h4>
              <p class="text-sm text-gray-600">AI Developer</p>
            </div>
            <div class="glass-card rounded-xl p-4">
              <h4 class="font-semibold text-blue-700">Sarvesh Eswar</h4>
              <p class="text-sm text-gray-600">Log Book Expert</p>
            </div>
            <div class="glass-card rounded-xl p-4">
              <h4 class="font-semibold text-cyan-700">Akshit Rajeendran</h4>
              <p class="text-sm text-gray-600">Website Developer</p>
            </div>
            <div class="glass-card rounded-xl p-4">
              <h4 class="font-semibold text-green-700">Sathvik Shenoy</h4>
              <p class="text-sm text-gray-600">Data Expert</p>
            </div>
          </div>
          <p class="text-sm text-gray-500">
            &copy; 2025 Team DermaVision. All rights reserved.
          </p>
        </div>
      </section>
    </div>
  </div>

  <script>
    // Add fade-in animation to elements as they come into view
    const observerOptions = {
      threshold: 0.1,
      rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('fade-in');
        }
      });
    }, observerOptions);

    document.querySelectorAll('.slide-in').forEach(el => {
      observer.observe(el);
    });

    // Cropper functionality
    let cropper;

    document.getElementById('file').addEventListener('change', function (event) {
      const file = event.target.files[0];
      if (file) {
        const reader = new FileReader();
        reader.onload = function (e) {
          const preview = document.getElementById('preview');
          preview.src = e.target.result;
          preview.classList.remove('hidden');

          // Destroy previous cropper if exists
          if (cropper) cropper.destroy();

          // Initialize cropper
          cropper = new Cropper(preview, {
            viewMode: 1,
            autoCropArea: 1,
            movable: true,
            zoomable: true,
            scalable: true,
            cropBoxResizable: true,
            background: false
          });

          document.getElementById('cropControls').classList.remove('hidden');
        };
        reader.readAsDataURL(file);
      }
    });

    document.getElementById('cropBtn').addEventListener('click', function () {
      if (cropper) {
        // Get cropped image data
        const croppedCanvas = cropper.getCroppedCanvas({
          width: 300,
          height: 300,
          imageSmoothingQuality: 'high'
        });
        const preview = document.getElementById('preview');
        preview.src = croppedCanvas.toDataURL();
        cropper.destroy();
        cropper = null;
        document.getElementById('cropControls').classList.add('hidden');
      }
    });

    // Form submission and AI analysis
    document.getElementById("inputForm").addEventListener("submit", async function (event) {
      event.preventDefault();

      const fileInput = document.getElementById("file");
      const resultContainer = document.getElementById("resultContainer");
      const output = document.getElementById("output");
      const diseaseInfo = document.getElementById("diseaseInfo");
      const loadingSpinner = document.getElementById("loadingSpinner");
      const resultsDisplay = document.getElementById("resultsDisplay");

      resultContainer.classList.remove("hidden");
      loadingSpinner.classList.remove("hidden");
      resultsDisplay.classList.add("hidden");
      output.textContent = "";
      diseaseInfo.textContent = "";

      const file = fileInput.files[0];
      if (!file) {
        loadingSpinner.classList.add("hidden");
        output.innerHTML = '<span class="text-red-400">Error: No file selected.</span>';
        resultsDisplay.classList.remove("hidden");
        return;
      }

      const reader = new FileReader();
      reader.onloadend = async function () {
        const base64String = reader.result.replace(/^data:image\/[a-z]+;base64,/, "");

        try {
          const response = await axios({
            method: "POST",
            url: "https://serverless.roboflow.com/12-capstone-weohq/1",
            params: {
              api_key: "Xvx8Nof8B321kUWrdjZC"
            },
            data: base64String,
            headers: {
              "Content-Type": "application/x-www-form-urlencoded"
            }
          });

          const predictions = response.data.predictions;

          if (predictions.length > 0) {
            const bestPrediction = predictions.reduce((max, curr) =>
              curr.confidence > max.confidence ? curr : max
            );
            const truncatedConfidence = Math.floor(bestPrediction.confidence * 10000) / 100;
            
            output.innerHTML = `<span class="neon-glow">${bestPrediction.class}</span>`;
            
            diseaseInfo.innerHTML = `
              <div class="space-y-4">
                <div class="glass-effect rounded-xl p-4">
                  <span class="text-2xl font-bold text-green-600">Confidence: ${truncatedConfidence}%</span>
                </div>
                <div class="glass-effect rounded-xl p-4">
                  <!-- Updated result text colors -->
                  <p class="text-purple-700 font-semibold mb-2">AI-Powered Analysis Complete</p>
                  <p class="text-gray-700 text-sm">
                    This result is generated by our advanced AI system. For your health and peace of mind, 
                    please consult a dermatologist for professional diagnosis and treatment recommendations.
                  </p>
                </div>
              </div>
            `;

            // Show symptoms if available
            const symptoms = symptomsDict[bestPrediction.class];
            const symptomsContainer = document.getElementById("symptomsContainer");
            if (symptoms) {
              symptomsContainer.innerHTML = `
                <div class="glass-effect rounded-xl p-6 mt-6">
                  <!-- Updated symptoms section colors -->
                  <h4 class="text-xl font-semibold text-blue-700 mb-4 flex items-center">
                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                    </svg>
                    Common Associated Symptoms
                  </h4>
                  <ul class="space-y-2">
                    ${symptoms.map(s => `
                      <li class="flex items-center text-gray-700">
                        <span class="w-2 h-2 bg-purple-500 rounded-full mr-3"></span>
                        ${s}
                      </li>
                    `).join("")}
                  </ul>
                  <p class="mt-4 text-sm text-blue-700 bg-blue-100 rounded-lg p-3">
                    💡 If you're experiencing these symptoms, consider consulting a healthcare professional for proper evaluation and care.
                  </p>
                </div>
              `;
            } else {
              symptomsContainer.innerHTML = "";
            }
          } else {
            output.innerHTML = '<span class="text-red-400">Unable to analyze the image</span>';
            diseaseInfo.innerHTML = `
              <div class="glass-effect rounded-xl p-4">
                <p class="text-gray-700">Please try uploading a clearer image with better lighting and focus on the affected area.</p>
              </div>
            `;
            document.getElementById("symptomsContainer").innerHTML = "";
          }
          
          loadingSpinner.classList.add("hidden");
          resultsDisplay.classList.remove("hidden");
        } catch (error) {
          loadingSpinner.classList.add("hidden");
          output.innerHTML = '<span class="text-red-400">Error: Unable to analyze the image</span>';
          diseaseInfo.innerHTML = `
            <div class="glass-effect rounded-xl p-4">
              <p class="text-gray-700">There was an issue processing your request. Please try again.</p>
            </div>
          `;
          resultsDisplay.classList.remove("hidden");
          console.error("API error:", error);
        }
      };

      reader.readAsDataURL(file);
    });

    const symptomsDict = {
      Chickenpox: [
        "Red spots or blisters",
        "Fever",
        "Fatigue",
        "Loss of appetite"
      ],
      Nail_psoriasis: [
        "Pitting of nails",
        "Discoloration",
        "Thickening of nails",
        "Separation of nail from nail bed"
      ],
      Vitiligo: [
        "White patches on skin",
        "Premature graying of hair",
        "Loss of skin color"
      ],
      Melanoma: [
        "New or unusual growth on the skin",
        "Change in size, shape, or color of a mole",
        "Irregular borders",
        "Multiple colors within a mole",
        "Itching or bleeding"
      ]
    };
  </script>
</body>

</html>
